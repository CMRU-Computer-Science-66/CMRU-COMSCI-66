generator client {
   provider   = "prisma-client-js"
   engineType = "library"
   // output     = "./client"
}

datasource db {
   provider = "postgresql"
   url      = env("DATABASE_URL")
}

model user {
   id       Int     @id @default(autoincrement())
   title    String?
   username String?
   password String?

   studentListId Int?
   StudentList   StudentList?

   created_at DateTime @default(now())

   @@map("Users")
}

enum billing_time {
   once
   week
   month
   year
}

enum billing_type {
   event
   force
   general
   public
}

model billing {
   id    Int          @id @default(autoincrement())
   types billing_type @default(general)

   name        String
   description String?
   price       Int
   time        billing_time?

   start_at DateTime?
   end_at   DateTime?

   discord_webhook   discord_webhook? @relation(fields: [discord_webhookId], references: [id])
   discord_webhookId BigInt?

   @@map("Billings")
}

model discord_webhook {
   id    BigInt @id
   token String

   billing billing[]

   @@index(id)
   @@map("Discord Webhook")
}

model StudentList {
   id   Int   @id @unique
   user user? @relation(fields: [id], references: [id])

   section Int
   name    String
   status  String?

   created_at DateTime?
   update_at  DateTime?

   @@map("Student List")
}
